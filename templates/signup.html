<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="../assets/ico/favicon.png">

    <title>Register</title>

    <!-- Bootstrap core CSS -->
    <link href="../assets/css/bootstrap.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">

    <!-- Overall custome styles -->
    <link href="../assets/custom/custom.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../assets/custom/signin.css" rel="stylesheet">

    <!-- Bootstrap coree, JQuery/JQueryUI, sketch JavaScript includes -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
    <script src="../assets/js/bootstrap.min.js"></script>
    <script src="../assets/js/sketch.min.js"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="../assets/js/html5shiv.js"></script>
      <script src="../assets/js/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div id="navbar-include"></div>
    <script type="text/javascript">
      $("#navbar-include").load("./navbar-loggedout.html");
    </script>

    <div class="container">

      <form class="form-signin" id="register" action="../api/signup.php" method="post">
        <h2 class="form-signin-heading">Please sign up</h2>
        <input name="email" type="text" class="form-control" id="email" placeholder="Email address (.edu only)" autofocus>
        <input name="username" type="text" class="form-control" id="username" placeholder="Username">
        <input name="password" type="password" class="form-control" placeholder="Password">
        <button class="btn btn-lg btn-primary btn-block" type="submit">Register</button>
      </form>

    </div> <!-- /container -->

    <script>
      $(document).ready(function() {
        $("#register").submit( function(e) {
          // Prevent submit until validation
          e.preventDefault();
          var email = $("#email").val();
          var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+edu+$/;
          if (regex.test(email)) {
            // Now submit form
            $("#register").unbind('submit').submit();
          }
          else {
            alert("Please use a .edu email address to register!");
          }
        });
      });
    </script>



  </body>
</html>
